name: GroundReflectedInclinedIrradiance
description: Ground-reflected inclined irradiance data model definition
imports:
    - definitions/ground_reflected_irradiance

fields:

  name:
    description: Name of the Ground-Reflected Inclined Irradiance data model
    initial: Ground-Reflected Inclined Irradiance Data

  shortname:
    description: Short name of the Ground-Reflected Inclined Irradiance data model
    initial: Ground-Reflected # Inclined

  description:
    description: Description of the ground-reflected data model
    initial: Ground-reflected inclined irradiance data

  symbol:
    description: Symbol of the irradiance data model
    initial: ⭞ ∡

  value_before_reflectivity:
    type: ndarray
    shortname: Ground-Reflected
    title: Ground-Reflected ⭞
    description: Ground-Reflected inclined irradiance before reflectivity
    symbol: ⭞ ∡ ☉
    initial:
    unit: W/m²

  reflectivity_factor:
    type: ndarray
    title: Reflectivity ⋅⭜
    description: Ground-Reflected irradiance reflectivity factor
    symbol: '⋅⭜'
    initial:
    unit: Unitless

  reflectivity:
    type: ndarray
    title: Reflectivity ⭜
    description: Losses due to angle of incidence in absolute terms of the ground-reflected inclined irradiance
    symbol: '- ⭜'
    initial:
    unit: Unitless

  reflectivity_percentage:
    type: ndarray
    title: Reflectivity ⭜ %
    description: Losses due to angle of incidence in % of ground-reflected inclined irradiance
    symbol: '- %'
    initial:
    unit: Unitless

  ground_view_fraction:
    type: float
    title: View %
    description: Ground view fraction
    initial: 
    unit: Unitless

  angle_output_units:
    type: str
    title: Angle Unit
    description: Angle output units
    initial:

  solar_radiation_model:
    type: str
    title: Radiation model ⸾
    description: Solar radiation model
    symbol: ⸾
    initial: Hofierka 2002

  data_source:
    type: str
    title: Data Source
    description: Source of the solar irradiance data
    initial:

  presentation:
    type: dict
    initial:
    structure:
      
      - section: Ground-Reflected Irradiance
        description: Core section
        fields:
          - name
          - title
          - description
          - symbol
          - value
          - unit
          - solar_radiation_model
      
      - section: Metadata
        description: Metadata section
        condition: verbose > 2
        fields:
          - ground_view_fraction
          - albedo
          - global_horizontal_irradiance
      
      - section: Context
        description: Contextual section
        condition: verbose > 1
        subsections:
          
          - subsection: Reflectivity effect
            description: Reflectivity effect
            condition: verbose > 3 and apply_reflectivity_factor
            fields:
              - reflectivity
              - reflectivity_percentage

          - subsection: Reflectivity factor
            description: Reflectivity factor
            condition: apply_reflectivity_factor
            fields:
              - reflectivity_factor
              - value_before_reflectivity
          
          - subsection: Surface Position
            description: Surface position parameters
            condition: verbose
            fields:
              - angle_output_units
              - surface_orientation
              - surface_tilt
          
          - subsection: Irradiance Metadata
            description: Irradiance components
            condition: verbose > 2
            fields:
              - direct_horizontal_irradiance
              - diffuse_horizontal_irradiance
