name: GroundReflectedInclinedIrradiance
description: Ground-reflected inclined irradiance data model definition
imports:
    - definitions/ground_reflected_irradiance

fields:

    name:
      type: str
      title: Name
      description: Name of the Ground-Reflected Inclined Irradiance data model
      initial: Ground-Reflected Inclined Irradiance Data

    shortname:
      type: str
      title: Shortname
      description: Short name of the Ground-Reflected Inclined Irradiance data model
      initial: Ground-Reflected # Inclined

    title:
      type: str
      title: Title
      description: Title of the data model
      initial:

    description:
      type: str
      title: Description
      description: Description of the data model
      initial: Ground-reflected inclined irradiance data

    symbol:
      type: str
      title: Symbol
      description: Symbol of the irradiance data model
      initial: â­ž âˆ¡

    global_horizontal_irradiance:
      type: ndarray
      title: Global Irradiance â­³
      description: Global horizontal irradiance values
      initial:
      unit: W/mÂ²

    direct_horizontal_irradiance:
      type: ndarray
      title: Direct Irradiance â­³
      description: Direct horizontal irradiance values
      initial:
      unit: W/mÂ²

    diffuse_horizontal_irradiance:
      type: ndarray
      title: Diffuse Irradiance â­³
      description: Diffuse horizontal irradiance values
      initial:
      unit: W/mÂ²

    value_before_reflectivity:
      type: ndarray
      shortname: Ground-Reflected
      title: Ground-Reflected â­ž
      description: Ground-Reflected inclined irradiance before reflectivity
      symbol: â­ž âˆ¡ â˜‰
      initial:
      unit: W/mÂ²

    reflectivity_factor:
      type: ndarray
      title: Reflectivity â‹…â­œ
      description: Ground-Reflected irradiance reflectivity factor
      symbol: 'â‹…â­œ'
      initial:
      unit: Unitless

    reflectivity:
      type: ndarray
      title: Reflectivity â­œ
      description: Losses due to angle of incidence in absolute terms of the ground-reflected inclined irradiance
      symbol: '- â­œ'
      initial:
      unit: Unitless

    reflectivity_percentage:
      type: ndarray
      title: Reflectivity â­œ %
      description: Losses due to angle of incidence in % of ground-reflected inclined irradiance
      symbol: '- %'
      initial:
      unit: Unitless

    ground_view_fraction:
      type: float
      title: View %
      description: Ground view fraction
      initial: 
      unit: Unitless

    location:
      type: Tuple[Longitude, Latitude]
      description: Geographic coordinates (latitude, longitude) of the PV installation.
      initial:

    angle_output_units:
      type: str
      title: Angle Unit
      description: Angle output units
      initial:

    timestamps:
      type: DatetimeIndex
      title: Timestamps
      description: Timestamps of the data
      initial: null

    solar_radiation_model:
      type: str
      title: Radiation model â¸¾
      description: Solar radiation model
      symbol: â¸¾
      initial: Hofierka 2002

    data_source:
      type: str
      title: Data Source
      description: Source of the solar irradiance data
      initial:

    quality:
      type: str
      title: Data Quality
      description: Quality control flag
      initial:

    fingerprint:
      type: str
      title: Fingerprint
      description: A unique fingerprint based on the data value
      symbol: ðŸ†”
      initial:

    presentation:
      type: dict
      initial:
      structure:
        
        - section: Ground-Reflected Irradiance
          description: Core section
          fields:
            - name
            - title
            - description
            - symbol
            - value
            - unit
            - solar_radiation_model
        
        - section: Metadata
          description: Metadata section
          condition: verbose > 2
          fields:
            - ground_view_fraction
            - albedo
            - global_horizontal_irradiance
        
        - section: Context
          description: Contextual section
          condition: verbose > 1
          subsections:
            
            - subsection: Reflectivity effect
              description: Reflectivity effect
              condition: verbose > 3 and apply_reflectivity_factor
              fields:
                - reflectivity
                - reflectivity_percentage

            - subsection: Reflectivity factor
              description: Reflectivity factor
              condition: apply_reflectivity_factor
              fields:
                - reflectivity_factor
                - value_before_reflectivity
            
            - subsection: Surface Position
              description: Surface position parameters
              condition: verbose
              fields:
                - angle_output_units
                - surface_orientation
                - surface_tilt
            
            - subsection: Irradiance Metadata
              description: Irradiance components
              condition: verbose > 2
              fields:
                - direct_horizontal_irradiance
                - diffuse_horizontal_irradiance
        
        - section: Sources
          condition: verbose > 3
          fields:
            - data_source
            - quality
