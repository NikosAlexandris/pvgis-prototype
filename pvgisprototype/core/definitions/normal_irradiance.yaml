name: NormalIrradiance
description: Direct Normal Irradiance data model definition
imports:
  - definitions/irradiance_template
  # includes :
  # solar_constant
  # perigee_offset
  # eccentricity_correction_factor

fields:

  name:
    description: Name of the Direct Normal Irradiance data model
    initial: Direct Normal Irradiance Data

  shortname:
    type: str
    description: Short name of the Direct Normal Irradiance data model
    initial: Normal

  title:
    initial: Normal Irradiance

  description:
    initial: Direct Normal Irradiance data model
  
  symbol:
    title: Normal
    description: Symbol of the Direct Normal Irradiance data model
    initial: ⦜

  value:
    type: ndarray

  unit:
    type: str
    initial: W/m^2

  solar_radiation_model:
    type: str
    initial:
  
  extraterrestrial_normal_irradiance:
    type: ndarray
    title: Extra ⸾
    description: Name of the Extraterrestrial Irradiance data model
    symbol: ⸾
    initial:
  
  linke_turbidity_factor:
    type: LinkeTurbidityFactor
    title: Linke Turbidity
    description: Linke turbidity factor
    symbol: ⋅
    initial: 2
    minimum: 0
    maximum: 8
    unit: Unitless
  
  linke_turbidity_factor_adjusted:
    type: LinkeTurbidityFactor
    title: Linke Turbidity ′
    description: Adjusted linke turbidity factor
    symbol: ′
    initial: null
    unit: Unitless
  
  rayleigh_optical_thickness:
    type: RayleighThickness
    title: Optical Thickness
    description: Rayleigh optical thickness
    symbol: ⋅
    initial:
    unit: Unitless
  
  optical_air_mass:
    type: OpticalAirMass
    title: Air Mass
    description: Optical air mass
    symbol:
    initial:
    unit: Unitless
  
  direct_horizontal_irradiance:
    type: ndarray
    initial:
  
  out_of_range:
    type: ndarray
    title: Out-of-range ⊖
    description: Out-of-range values in the NumPy array 'value'
    symbol: ⊖
    initial: null
  
  out_of_range_index:
    type: ndarray
    title: Out-of-range ⊖ i
    description: Index of out-of-range values in the NumPy array 'value'
    symbol: ⊖  i
    initial: null
  
  data_source:
    type: str
    description: Source of the solar radiation data
    initial:
  
  presentation:
    type: dict
    initial: {}
    structure:

      - section: Direct Normal Irradiance
        description: Core section
        fields:
          - name
          - title
          - description
          - symbol
          - value
          - unit

      - section: Out-of-range
        description: Out-of-range values
        condition: self.out_of_range.size > 0
        fields:
          - out_of_range
          - out_of_range_index
      
      - section: Context
        description: Contextual section
        condition: verbose > 1
        subsections:

          - subsection: Solar Irradiance
            description: Solar Irradiance Input
            condition: verbose > 1
            fields:
              - extraterrestrial_normal_irradiance

          - subsection: Atmospheric Properties
            description: Atmospheric Properties
            condition: verbose > 2
            fields:
              - linke_turbidity_factor_adjusted
              - linke_turbidity_factor
              - rayleigh_optical_thickness
              - optical_air_mass
      
          - subsection: Solar Parameters
            description: Solar Parameters subsection
            condition: verbose > 3
            fields:
              - solar_constant
          
          - subsection: Earth Orbit
            description: Earth Orbit subsection
            condition: verbose > 3
            fields:
              - perigee_offset
              - eccentricity_correction_factor
      
      - section: Sources
        condition: verbose > 4
        fields:
          - data_source
          - quality
