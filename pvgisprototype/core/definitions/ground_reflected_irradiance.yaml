name: GroundReflectedIrradiance
description:
imports:
  - definitions/irradiance_template

fields:

    name:
      type: str
      title: Name
      description: Name of the Ground-Reflected Irradiance data model
      initial: Ground-Reflected Irradiance Data

    shortname:
      type: str
      title: Shortname
      description: Short name of the Ground-Reflected Irradiance data model
      initial: Ground-Reflected

    symbol:
      type: str
      title: Symbol
      description: Symbol of the irradiance data model
      initial: ⭞

    description:
      type: str
      title: Description
      description: Description of the data model
      initial: Clear-sky ground-reflected irradiance time series

    value:
      type: ndarray
      title: Value
      description: Values in form of a NumPy NDArray
      initial:
      unit: W/m²

    unit:
      type: str
      title: Unit
      description: Unit of the values
      initial: W/m²

    ground_view_fraction:
      type: float
      title: View %
      description: Ground view fraction
      initial: 
      unit: Unitless

    albedo:
      type: float
      title: Albedo
      description: Albedo
      initial: 0.2  # The default in PVGIS <= 5.x

    global_horizontal_irradiance:
      type: ndarray
      title: Global Horizontal Irradiance
      description: Global horizontal irradiance values
      initial:
      unit: W/m²

    direct_horizontal_irradiance:
      type: ndarray
      title: Direct Horizontal Irradiance
      description: Direct horizontal irradiance values
      initial:
      unit: W/m²

    diffuse_horizontal_irradiance:
      type: ndarray
      title: Diffuse Horizontal Irradiance
      description: Diffuse horizontal irradiance values
      initial:
      unit: W/m²
    
    location:
      type: Tuple[Longitude, Latitude]
      description: Geographic coordinates (latitude, longitude) of the PV installation.
      initial:

    elevation:
      type: Elevation
      initial:

    surface_orientation:
      type: SurfaceOrientation
      shortname: Orientation
      title: Orientation ↻
      symbol: ↻
      initial:

    surface_tilt:
      type: SurfaceTilt
      shortname: Tilt
      title: Tilt ⦥
      symbol: ⦥
      initial:

    surface_tilt_threshold:
      type: float
      shortname: Threshold
      title: Tilt ⦥ ≲
      symbol: ≲
      initial: 0.0001

    solar_positioning_algorithm:
      type: str
      title: Positioning
      description: Solar positionin algorithm
      symbol: ⯐
      initial:

    solar_timing_algorithm:
      type: str
      title: Timing
      description: Solar timing algorithm
      symbol: ⏲
      initial:

    data_source:
      type: str
      title: Data Source
      description: Source of the solar radiation data
      initial:

    angle_output_units:
      type: str
      title: Angle Unit
      description: Angle output units
      initial:

    components:
      type: dict
      initial: {}

    presentation:
      type: dict
      initial:
      structure:
        
        - section: Ground-Reflected Irradiance
          description: Core section
          fields:
            - name
            - title
            - description
            - symbol
            - value
            - unit
        
        - section: Metadata
          description: Metadata section
          condition: verbose > 2
          fields:
            - ground_view_fraction
            - albedo
            - global_horizontal_irradiance
        
        - section: Context
          description: Contextual section
          condition: verbose > 1
          subsections:
            
            - subsection: Surface Position
              description: Surface position parameters
              condition: verbose
              fields:
                - angle_output_units
                - surface_orientation
                - surface_tilt
            
            - subsection: Irradiance Metadata
              description: Irradiance components
              condition: verbose > 2
              fields:
                - direct_horizontal_irradiance
                - diffuse_horizontal_irradiance
        
        - section: Sources
          condition: verbose > 3
          fields:
            - data_source
            - quality
