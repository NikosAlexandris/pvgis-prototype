name: GroundReflectedIrradiance
description:
imports:
  - definitions/irradiance_template

fields:

  name:
    type: str
    title: Name
    description: Name of the Ground-Reflected Irradiance data model
    initial: Ground-Reflected Irradiance Data

  shortname:
    type: str
    title: Shortname
    description: Short name of the Ground-Reflected Irradiance data model
    initial: Ground-Reflected

  title:
    type: str
    title: Title
    description: Title of the data model
    initial:

  description:
    type: str
    title: Description
    description: Description of the data model
    initial: Clear-sky ground-reflected irradiance time series

  symbol:
    type: str
    title: Symbol
    description: Symbol of the irradiance data model
    initial: ‚≠û

  location:
    type: Tuple[Longitude, Latitude]
    description: Geographic coordinates (latitude, longitude) of the PV installation.
    initial:

  elevation:
    type: Elevation
    initial:

  surface_orientation:
    type: SurfaceOrientation
    shortname: Orientation
    title: Orientation ‚Üª
    symbol: ‚Üª
    initial:

  surface_tilt:
    type: SurfaceTilt
    shortname: Tilt
    title: Tilt ‚¶•
    symbol: ‚¶•
    initial:

  surface_tilt_threshold:
    type: float
    shortname: Threshold
    title: Tilt ‚¶• ‚â≤
    symbol: ‚â≤
    initial: 0.0001

  solar_timing_algorithm:
    type: str
    title: Timing ‚è≤
    description: Solar timing algorithm
    symbol: ‚è≤
    initial:

  solar_positioning_algorithm:
    type: str
    title: Positioning ‚Øê
    description: Solar positionin algorithm
    symbol: ‚Øê
    initial:

  timestamps:
    type: DatetimeIndex
    title: Timestamps
    description: Timestamps of the data
    initial: null

  value:
    type: ndarray
    title: Value
    description: Values in form of a NumPy NDArray
    initial:
    unit: W/m¬≤

  unit:
    type: str
    title: Unit
    description: Unit of the values
    initial: W/m¬≤

  ground_view_fraction:
    type: float
    title: View %
    description: Ground view fraction
    initial: 
    unit: Unitless

  albedo:
    type: float
    title: Albedo
    description: Albedo
    initial: 0.2  # The default in PVGIS <= 5.x

  global_horizontal_irradiance:
    type: ndarray
    title: Global Irradiance ‚≠≥
    description: Global horizontal irradiance values
    initial:
    unit: W/m¬≤

  direct_horizontal_irradiance:
    type: ndarray
    title: Direct Irradiance ‚≠≥
    description: Direct horizontal irradiance values
    initial:
    unit: W/m¬≤

  diffuse_horizontal_irradiance:
    type: ndarray
    title: Diffuse Irradiance ‚≠≥
    description: Diffuse horizontal irradiance values
    initial:
    unit: W/m¬≤

  angle_output_units:
    type: str
    title: Angle Unit
    description: Angle output units
    initial:

  data_source:
    type: str
    title: Data Source
    description: Source of the solar radiation data
    initial:

  quality:
    type: str
    title: Data Quality
    description: Quality control flag
    initial:

  fingerprint:
    type: str
    title: Fingerprint
    description: A unique fingerprint based on the data value
    symbol: üÜî
    initial: False

  presentation:
    type: dict
    initial:
    structure:
      
      - section: Ground-Reflected Irradiance
        description: Core section
        fields:
          - name
          - title
          - description
          - symbol
          - value
          - unit
      
      - section: Metadata
        description: Metadata section
        condition: verbose > 2
        fields:
          - ground_view_fraction
          - albedo
          - global_horizontal_irradiance
      
      - section: Context
        description: Contextual section
        condition: verbose > 1
        subsections:
          
          - subsection: Solar Position
            description: Solar position parameters
            condition: verbose
            fields:
              - solar_positioning_algorithm
              - solar_timing_algorithm

          - subsection: Surface Position
            description: Surface position parameters
            condition: verbose
            fields:
              - angle_output_units
              - surface_orientation
              - surface_tilt
          
          - subsection: Irradiance Metadata
            description: Irradiance components
            condition: verbose > 2
            fields:
              - direct_horizontal_irradiance
              - diffuse_horizontal_irradiance
      
      - section: Sources
        condition: verbose > 3
        fields:
          - data_source
          - quality
