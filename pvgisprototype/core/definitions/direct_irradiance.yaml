name: DirectHorizontalIrradiance
description: Direct horizontal irradiance model

imports:
  - definitions/irradiance_template
  # includes :
  # solar_constant
  # perigee_offset
  # eccentricity_correction_factor
  # presentation / structure / Sources

fields:

  name:
    type: str
    title: Name
    description: Name of the Direct Horizontal Irradiance data model
    initial: Direct Horizontal Irradiance Data

  shortname:
    description: Short name of the Direct Horizontal Irradiance data model
    initial: Direct Horizontal

  title:
    initial: Direct Horizontal Irradiance
  
  description:
    type: str
    initial: Direct horizontal irradiance

  symbol:
    initial: â‡£

  value:
    type: ndarray
    initial:

  unit:
    type: str
    initial: W/m^2
  
  elevation:
    type: Elevation
    title: Elevation ðŸ”
    description: Name of the Elevation data model
    symbol: ðŸ”
    initial: Elevation

  surface_orientation:
    type: SurfaceOrientation
    shortname: Orientation
    title: Surface Orientation â†»
    symbol: â†»
    initial: null

  surface_tilt:
    type: SurfaceTilt
    shortname: Tilt
    title: Surface Tilt â¦¥
    symbol: â¦¥
    initial: null
  
  solar_positioning_algorithm:
    type: str
    title: Positioning â¯
    description: Solar positionin algorithm
    symbol: â¯
    initial:

  solar_timing_algorithm:
    type: str
    title: Timing â²
    description: Solar timing algorithm
    symbol: â²
    initial:

  solar_altitude:
    type: SolarAltitude
    title: Altitude â¦©
    description: Solar altitude
    symbol: â¦©
    initial:
  
  linke_turbidity_factor:
    type: LinkeTurbidityFactor
    title: Linke Turbidity
    description: Linke turbidity factor
    symbol: â‹…
    initial: 2
    minimum: 0
    maximum: 8
    unit: Unitless

  optical_air_mass:
    type: OpticalAirMass
    title: Air Mass
    description: Optical air mass
    symbol:
    initial:
    unit: Unitless

  refracted_solar_altitude:
    type: ndarray
    title: Refracted alt.
    description: Refracted solar altitude
    symbol: â¦©
    initial:
  
  direct_normal_irradiance:
    type: NormalIrradiance
    title: Normal
    description: Direct Normal Irradiance data model
    symbol: â¦œ
  
  surface_in_shade:
    type: ndarray
    title: In-shade
    description: Boolean for surface in-shade
    initial:

  shading_algorithm:
    type: str
    title: Shading ðŸ®ž
    description: Algorithm for shading
    symbol: ðŸ®ž
    initial:

  angle_output_units:
    type: str
    title: Angle Unit
    description: Angle output units
    initial:
  
  data_source:
    title: Clear-Sky Index Modelling
    description: Source of the direct horizontal solar radiation data

  presentation:
    type: dict
    initial: {}
    structure:

      - section: Direct Horizontal Irradiance
        description: Core section
        fields:
          - name
          - title
          - description
          - symbol
          - value
          - unit

      - section: Metadata
        description: Metadata section
        condition: verbose > 2
        fields:
      
      - section: Context
        description: Contextual section
        condition: verbose > 1
        subsections:

          - subsection: Solar Parameters
            description: Solar Parameters subsection
            fields:
              - solar_constant
          
          - subsection: Earth Orbit
            description: Earth Orbit subsection
            fields:
              - perigee_offset
              - eccentricity_correction_factor

          - subsection: Solar Position
            description: Solar position parameters
            condition: verbose
            fields:
              - solar_positioning_algorithm
              - solar_timing_algorithm
              - solar_altitude

          - subsection: Surface Position
            description: Surface position parameters
            condition: verbose
            fields:
              - elevation
              - surface_orientation
              - surface_tilt
              - surface_in_shade
              - shading_algorithm
              - angle_output_units

          - subsection: Atmospheric Properties
            description: Atmospheric Properties
            condition: verbose > 2
            fields:
              - linke_turbidity_factor
              - optical_air_mass
              - refracted_solar_altitude
      
          - subsection: Irradiance Metadata
            description: Irradiance components
            condition: verbose > 2
            fields:
              - direct_normal_irradiance
