name: GroundReflectedInclinedIrradiance
label: Ground-Reflected Irradiance
type: Data Model
description: A data model definition for the diffuse ground-reflected irradiance on an inclined surface based on external data.
symbol: ⸾ ⭞ ∡
color: yellow

require:
  - irradiance/template
  # - irradiance/diffuse/ground_reflected/inclined_clear_sky

  - surface/position/attribute/location  # = Coordinates + Elevation
  - surface/position/attribute/surface_position

  # Algorithms
  - sun/position/attribute/positioning
  - sun/time/attribute/timing

  # Irradiance
  - irradiance/attribute/ground_view_fraction
  - surface/property/albedo

  # Surface reflectivity : require generic attributes, then override important fields
  - irradiance/attribute/inclined/before_reflectivity/value
  - surface/property/reflectivity_factor
  - irradiance/attribute/reflectivity/loss
  - irradiance/attribute/reflectivity/percentage

  # Horizontal Irradiance
  - irradiance/attribute/horizontal/global
  - irradiance/attribute/horizontal/direct
  - irradiance/attribute/horizontal/sky_diffuse

  # Options
  - options/angle_output_unit
  
  
  # Structured output
  - irradiance/diffuse/ground_reflected/output/inclined_from_external_data

sections:

  name:
    description: Name of the Diffuse Ground-Reflected Inclined Irradiance data model
    initial: Diffuse Ground-Reflected Inclined Irradiance Data

  shortname:
    description: Short name of the Diffuse Ground-Reflected Inclined Irradiance data model
    initial: Ground-Reflected # Inclined

  supertitle:
    description: Supertitle for the ground-diffuse inclined irradiance data model. This may be usfeul in the context of plots.
    initial: Ground-Diffuse Inclined Irradiance

  title:
    description: Title of the data model
    initial: Ground-Diffuse Inclined Irradiance

  label:
    description: Label for the ground-diffuse inclined irradiance data model. This may be useful in the context of a plot.
    initial: ⭞ ∡ Ground-Diffuse Inclined Irradiance

  description:
    description: Description of the diffuse ground-reflected data model
    initial: Diffuse ground-reflected inclined irradiance data

  algorithm:
    initial: The calculation relies on an isotropic assumption. The ground-reflected clear-sky irradiance received on an inclined surface [W.m-2] is proportional to the global horizontal irradiance, to the mean ground albedo and a fraction of the ground viewed by an inclined surface.

  equation:
    initial: Global ⤋ ⭳ ∙ Ground-View % ∙ Albedo ⌰

  symbol:
    description: Symbol for the diffuse ground-reflected irradiance data model
    initial: ⭞ ∡

  value_before_reflectivity:
    shortname: Ground-Reflected
    title: Ground-Reflected ⭞
    description: Diffuse ground-reflected inclined irradiance before reflectivity

  reflectivity_factor:
    title: Ground-Diffuse Reflectivity ⋅⭜ ⭞
    description: Reflectivity factor for the diffuse ground-reflected inclined irradiance
    symbol: '⋅⭜ ⭞'

  reflectivity:
    title: Ground-Diffuse ⭞ -⭜
    description: Reflectivity losses due to angle of incidence in absolute terms of the diffuse ground-reflected inclined irradiance
    symbol: '⭞ -⭜'

  reflectivity_percentage:
    title: Ground-Reflected Reflectivity ⭞-⭜ %
    description: Reflectivity losses due to the angle of incidence in % of the diffuse ground-reflected inclined irradiance
    symbol: '⭞-⭜ %'

  data_source:
    description: Source of the diffuse ground-reflected inclined irradiance based on external data
