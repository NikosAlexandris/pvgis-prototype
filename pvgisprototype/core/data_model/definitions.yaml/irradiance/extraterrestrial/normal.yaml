name: ExtraterrestrialNormalIrradiance
label: Extraterrestrial Normal Irradiance
type: Data Model
description: Extraterrestrial normal irradiance data model
symbol: ⸾ ⍖ ⦜

require:
  - irradiance/template
  - irradiance/extraterrestrial/output/normal
 
sections:

  name:
    description: Name of the Extraterrestrial Irradiance data model
    initial: Extraterrestrial Normal Irradiance

  shortname:
    description: Short name of the Extraterrestrial Irradiance data model
    initial: Extra

  supertitle:
    description: Supertitle for the extraterrestrial normal irradiance data model. This may be usfeul in the context of plots.
    initial: Simulated Extraterrestrial Normal Irradiance Series

  title:
    description: Description of the extraterrestrial irradiance data model
    initial: Extraterrestrial Normal Irradiance

  label:
    description: Label for the extraterrestrial normal irradiance data model. This may be useful in the context of a plot.
    initial: ⍖ ⦜ Extraterrestrial Normal Irradiance

  description:
    description: Description of the extraterrestrial normal irradiance data model
    initial: Extraterrestrial irradiance

  symbol:
    description: Symbol of the extraterrestrial normal irradiance data model
    initial: ⍖ ⦜

  value:
    title: Extra Normal
    description: Extraterrestrial normal irradiance values in form of a NumPy NDArray

  unit:
    description: Unit for the extraterrestrial normal irradiance values

  # lower_physically_possible_limit:
  #   initial: 1315  # Override the template value

  # upper_physically_possible_limit:
  #   initial: 1407  # Override the template value

  algorithm:
    initial: The beam irradiance (solar energy) outside the atmosphere and at mean solar distance, is roughly constant at is 1367 W.m-2. However, the orbit of the earth around the sun is lightly eccentric hence its distance to the sun varies slightly across the year.  In order to take into account the varying solar distance, the calculation of the extraterrestrial irradiance normal to the solar beam, considers an "eccentricity correction factor" ε.

  equation:
    description: "The equation to calculate the extraterrestrial normal irradiance : G0 = I0 ε, where : ε = 1 + 0.03344 cos (j’ - 0.048869), day angle j’ in radians, j’ = 2 π j/365.25, j is the day number which varies from 1 on January 1st to 365 (366) on December 31st."
    initial: Extraterrestrial Normal Irradiance = Solar Constant * Eccentricity Correction Factor

  day_of_year:
    type: array
    description: Day of year
    initial:
    title: Day of year
    unit: Number of day of year

  day_angle:
    type: array
    description: Describe me! 
    initial:
    title: Day angle
    unit: radians

  distance_correction_factor:
    type: array
    description: Earth-Sun distance correction factor
    initial:
    title: Distance Correction
    unit: unitless

  # dependencies:
  #   type: set
  #   title: Dependencies ⟃
  #   description: Dependencies of the extraterrestrial irradiance data model
  #   symbol: ⟃
  #   initial: {SolarConstant, PerigeeOffset, EccentricityCorrection}
