name: DirectNormalFromHorizontalIrradianceOutput
label: Direct Normal from Horizontal Irradiance
type: Output Structure
description: Output structure for the direct normal from horizontal irradiance data model (based on external data)
symbol: ⸾ ⇣ ⦜

require:
  - output/template  # the base structure

sections:
  
  output:
    type: dict
    initial:
    structure:

      - section: Direct Normal Irradiance
        description: Core section
        fields:
          - name
          - title
          - description
          - symbol
          - value
          - unit

      - section: Context
        description: Contextual section
        condition: verbose > 1
        subsections:

          - subsection: Solar Irradiance
            description: Solar Irradiance Input
            condition: verbose > 2
            fields:
              - direct_horizontal_irradiance

          - subsection: Solar Position
            description: Solar position parameters
            condition: verbose > 3
            fields:
              - solar_positioning_algorithm
              - adjust_for_atmospheric_refraction
              - solar_altitude
              - angle_output_units

          - subsection: Earth Orbit
            description: Earth Orbit subsection
            condition: verbose > 4
            fields:
              - eccentricity_phase_offset
              - eccentricity_amplitude

      - section: Out-of-range
        description: Out-of-range values
        condition: out_of_range.any()
        fields:
          - out_of_range
          - out_of_range_index
