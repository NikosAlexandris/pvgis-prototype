name: DirectInclinedIrradianceOutput
label: Direct Inclined Irradiance
type: Output Structure
description: Output structure for the direct inclined irradiance data model
symbol: ⸾ ⇣ ∡

require:
  - output/template  # the base structure

sections:

  output:
    structure:

      - section: Direct Inclined Irradiance
        description: Core section
        fields:
          - name
          - title
          - description
          - symbol
          - value
          - unit

      - section: Metadata
        description: Metadata section
        condition: verbose > 2
        fields:
      
      - section: Context
        description: Contextual section
        condition: verbose > 1
        subsections:

          - subsection: Reflectivity effect
            description: Reflectivity effect
            condition: verbose > 3
            fields:
              - reflectivity
              - reflectivity_percentage

          - subsection: Reflectivity factor
            description: Reflectivity factor
            fields:
              - reflectivity_factor
              - value_before_reflectivity

          - subsection: Solar Position
            description: Solar position parameters
            condition: verbose > 2
            fields:
              - solar_incidence
              # - solar_azimuth
              - solar_altitude

          - subsection: Solar Position Metadata
            description: Solar position parameters
            condition: verbose > 3
            fields:
              - solar_incidence_model
              - solar_incidence_definition
              - solar_timing_algorithm
              - solar_positioning_algorithm

          - subsection: Irradiance Metadata
            description: Irradiance components
            condition: verbose > 2
            fields:
              - direct_horizontal_irradiance

          - subsection: Surface Position
            description: Surface position parameters
            condition: verbose
            fields:
              - elevation
              - surface_orientation
              - surface_tilt
              - surface_in_shade
              - shading_algorithm
              - angle_output_units

          - subsection: Solar Parameters
            description: Solar Parameters subsection
            fields:
              - solar_constant
          
          - subsection: Earth Orbit
            description: Earth Orbit subsection
            fields:
              - eccentricity_phase_offset
              - eccentricity_amplitude

          - subsection: Atmospheric Properties
            description: Atmospheric properties
            condition: verbose > 2
            subsubsections:

              - subsubsection: Linke Turbidity
                description: Linke turbidity
                fields:
                  - linke_turbidity_factor

              - subsubsection: Atmospheric Refraction
                description: Atmospheric refraction effects
                condition: verbose > 2 and adjust_for_atmospheric_refraction
                fields:
                  - adjusted_for_atmospheric_refraction
                  - refracted_solar_altitude
                  # - unrefracted_solar_zenith
