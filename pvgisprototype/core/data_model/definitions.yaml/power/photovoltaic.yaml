name: PhotovoltaicPower
description: Photovoltaic Power

imports:
  - power/template
  - power/attribute/power_without_system_loss

  - power/attribute/power_model
  - power/attribute/peak_power

  - performance/attributes/technology
  - performance/attributes/photovoltaic_module_type

  - performance/attributes/system_efficiency
  - performance/attributes/efficiency_factor
  - performance/attributes/system_loss

  - surface/position/attributes/location
  - surface/position/attributes/sun_horizon_positioning
  - surface/position/attributes/surface_position
  - surface/position/options/optimiser
  - surface/position/attributes/optimal

  - irradiance/attributes/solar_constant
  - earth/attributes/orbit

  - sun/position/attributes/positioning
  - sun/time/attribute/timing
  - atmospheric_properties/attributes/linke_turbidity_factor

  - sun/position/attributes/altitude
  - sun/position/attributes/azimuth
  - sun/position/attributes/azimuth_origin
  - sun/position/attributes/incidence
  - surface/position/attributes/shading

  - meteorology/attribute/temperature
  - meteorology/attribute/wind_speed

  - performance/attributes/spectral_factor
  - performance/attributes/spectral_factor_algorithm
  - performance/attributes/spectral_effect
  - performance/attributes/spectral_effect_percentage

  - metadata/solar_radiation_model
  - metadata/quality
  - metadata/references
  - metadata/fingerprint

  - options/angle_output_unit
  - power/output/clear_sky  # specific output structure !

fields:

  label:
    initial: ‚åÅ Simulated Photovoltaic Power

  effective_global_irradiance:
    type: array
    title: Effective Global
    description: Effective global irradiance
    symbol:
    initial:

  effective_direct_irradiance:
    type: array
    title: Direct inclined irradiance * efficiency_factor
    description: Direct inclined irradiance * efficiency_factor
    symbol:
    initial:

  effective_diffuse_irradiance:
    type: array
    title: Diffuse inclined irradiance * efficiency_factor
    description: Diffuse sky-reflected inclined irradiance * efficiency_factor
    symbol:
    initial:

  effective_ground_reflected_irradiance:
    type: array
    title: Diffuse ground-reflected inclined irradiance * efficiency_factor
    description: Diffuse ground-reflected inclined irradiance * efficiency_factor
    symbol:
    initial:

  global_inclined_irradiance:
    type: array
    title: Global ‚§ã ‚à°
    description: (Shortwave) Global inclined irradiance values in form of a NumPy NDArray
    symbol:
    initial:
    unit: W/m¬≤
    dependencies: direct_inclined_irradiance, diffuse_inclined_irradiance, ground_reflected_inclined_irradiance
    data_source:

  direct_inclined_irradiance:
    type: array
    shortname: Direct inclined
    title: Direct ‚á£ ‚à°
    description: Direct inclined irradiance
    symbol: ‚á£ ‚à°
    initial:
    unit: W/m¬≤

  diffuse_inclined_irradiance:
    type: array
    shortname: Diffuse inclined
    title: Diffuse üó§ ‚à°
    description: Diffuse sky-reflected inclined irradiance
    symbol: üó§ ‚à°
    initial:
    unit: W/m¬≤

  ground_reflected_inclined_irradiance:
    type: array
    shortname: Ground-Reflected inclined
    title: Ground-Reflected ‚≠û ‚à°
    description: Diffuse ground-reflected inclined irradiance
    symbol: ‚≠û ‚à°
    initial:
    unit: W/m¬≤

  global_inclined_before_reflectivity:
    type: array
    shortname: Global inclined
    title: Global ‚§ã ‚à° ‚òâ
    description: Global inclined irradiance before reflectivity
    symbol: ‚§ã ‚à° ‚òâ
    initial:
    unit: W/m¬≤

  direct_inclined_before_reflectivity:
    type: array
    shortname: Direct inclined
    title: Direct ‚á£ ‚à° ‚òâ
    description: Direct inclined irradiance before reflectivity
    symbol: ‚á£ ‚à° ‚òâ
    initial:
    unit: W/m¬≤

  diffuse_inclined_before_reflectivity:
    type: array
    shortname: Diffuse inclined
    title: Diffuse üó§ ‚à° ‚òâ
    description: Diffuse sky-reflected inclined irradiance before reflectivity
    symbol: üó§ ‚à° ‚òâ
    initial:
    unit: W/m¬≤

  ground_reflected_inclined_before_reflectivity:
    type: array
    shortname: Ground-Reflected inclined
    title: Ground-Reflected ‚≠û ‚à° ‚òâ
    description: Diffuse ground-reflected inclined irradiance before reflectivity
    symbol: ‚≠û ‚à° ‚òâ
    initial:
    unit: W/m¬≤

  direct_inclined_reflectivity_factor:
    type: array
    title: Direct Reflectivity ‚ãÖ‚á£
    description: Reflectivity factor for the direct inclined irradiance
    symbol: '‚ãÖ‚á£‚à°'
    initial:
    unit: Unitless

  diffuse_inclined_reflectivity_coefficient:
    type: float
    title: Diffues Reflectivity √óüó§
    description: Reflectivity coefficient for the diffuse sky-reflected inclined irradiance
    symbol: '√óüó§'
    dependencies: surface_tilt
    initial:
    unit: Unitless

  diffuse_inclined_reflectivity_factor:
    type: array
    title: Diffuse Reflectivity ‚ãÖüó§
    description: Reflectivity factor for the diffuse sky-reflected inclined irradiance
    symbol: '‚ãÖüó§‚à°'
    initial:
    unit: Unitless

  ground_reflected_inclined_reflectivity_factor:
    type: array
    title: Reflectivity ‚ãÖ‚≠û‚à°
    description: Reflectivity factor for the diffuse ground-reflected inclined irradiance
    symbol: '‚ãÖ‚≠û‚à°'
    initial:
    unit: Unitless

  global_inclined_reflectivity:
    type: array
    title: Reflectivity ‚§ã ‚≠ú
    description: Sum of the reflectivity losses due to the angle of solar incidence in absolute terms of the direct inclined, the diffuse sky-reflected inclined and the diffuse ground-reflected irradiance
    symbol: '- ‚§ã ‚≠ú'
    initial:
    unit: Unitless

  direct_inclined_reflectivity:
    type: array
    title: Direct Reflectivity ‚á£‚≠ú
    description: Reflectivity losses due to angle of incidence in absolute terms of the direct inclined irradiance
    symbol: '- ‚á£‚≠ú'
    initial:
    unit: Unitless

  diffuse_inclined_reflectivity:
    type: array
    title: Diffuse Reflectivity üó§‚≠ú
    description: Reflectivity losses due to angle of incidence in absolute terms of the diffuse sky-reflected inclined irradiance
    symbol: '- üó§‚≠ú'
    initial:
    unit: Unitless

  ground_reflected_inclined_reflectivity:
    type: array
    title: Ground-Reflected Reflectivity ‚≠û‚≠ú
    description: Reflectivity losses due to angle of incidence in absolute terms of the diffuse ground-reflected inclined irradiance
    symbol: '- ‚≠û‚≠ú'
    initial:
    unit: Unitless

  reflectivity_percentage:
    type: array
    title: Global Reflectivity ‚§ã ‚≠ú %
    description: Total reflectivity losses due to the angle of incidence in % the of global inclined irradiance
    symbol: '- ‚§ã ‚≠ú %'
    initial:
    unit: Unitless

  direct_inclined_reflectivity_percentage:
    type: array
    title: Direct Reflectivity ‚≠≥ ‚≠ú %
    description: Reflectivity losses due to the angle of incidence in % of the direct inclined irradiance
    symbol: '- ‚≠≥ ‚≠ú %'
    initial:
    unit: Unitless

  diffuse_inclined_reflectivity_percentage:
    type: array
    title: Diffuse Reflectivity üó§ ‚≠ú %
    description: Reflectivity losses due to the angle of incidence in % of the diffuse sky-reflected inclined irradiance
    symbol: '- üó§ ‚≠ú %'
    initial:
    unit: Unitless

  ground_reflected_inclined_reflectivity_percentage:
    type: array
    title: Ground-Reflected Reflectivity ‚≠û ‚≠ú %
    description: Reflectivity losses due to the angle of incidence in % of the diffuse ground-reflected inclined irradiance
    symbol: '- ‚≠û ‚≠ú %'
    initial:
    unit: Unitless

  extraterrestrial_horizontal_irradiance:
    type: ExtraterrestrialHorizontalIrradiance
    title: Extra Horizontal ‚≠≥
    description: Name of the Extraterrestrial Horizontal Irradiance data model
    symbol: ‚≠≥
    initial:

  extraterrestrial_normal_irradiance:
    type: ExtraterrestrialNormalIrradiance
    title: Extra Normal ‚¶ú
    description: Name of the Extraterrestrial Normal Irradiance data model
    symbol: ‚¶ú
    initial:

  adjusted_for_atmospheric_refraction:
    type: bool
    title: Unrefracted ‚¶ß
    description: Adjustment of the solar zenith angle (from which the solar altitude derives) for atmospheric refraction effects 
    symbol: ‚¶ß
    initial: True

  direct_horizontal_irradiance:
    type: DirectHorizontalIrradiance
    title: Direct Horizontal ‚á£ ‚≠≥
    description: Direct horizontal irradiance values
    symbol: ‚á£ ‚≠≥
    initial:
    unit: W/m¬≤

  diffuse_horizontal_irradiance:
    type: DiffuseSkyReflectedHorizontalIrradiance
    title: Diffuse Horizontal üó§‚≠≥
    description:
    symbol: üó§‚≠≥
    initial:
    unit: W/m¬≤

  references:
    initial: "D.L. King, J.A. Kratochvil, W.E. Boyson, W.I. Bower, Field experience with a new performance characterization procedure for photovoltaic arrays, in: Proceedings of the second World Conference and Exhibition on Photovoltaic Solar Energy Conversion, Vienna, 1998, pp. 1947‚Äì1952.. D.L. King, W.E. Boyson, J.A. Kratochvil, Photovoltaic Array Performance Model, SAND2004-3535, Sandia National Laboratories, 2004."
